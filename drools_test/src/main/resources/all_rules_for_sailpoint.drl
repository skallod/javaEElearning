package com.gridnine.bof.server.rules

#Применимые ГДС для letaem
rule "rule 1"
salience -1
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "letaem" || == "unifest2"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS"))){
		   if(!proxy.getAppliedRuleCategories().contains("applicable-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("UNIFEST");
			proxy.getAppliedRuleCategories().add("applicable-GDS");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("24422FC9-C45C-4990-9DE8-42F7AF3AD377");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-oneways")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).setSearchOW(false);
			proxy.getAppliedRuleCategories().add("additional-search-oneways");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("24422FC9-C45C-4990-9DE8-42F7AF3AD377");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Применимые ГДС для qunar
rule "rule 2"
salience -2
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "qunar"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS"))){
		   if(!proxy.getAppliedRuleCategories().contains("applicable-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("UNIFEST");
			proxy.getAppliedRuleCategories().add("applicable-GDS");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("176452FF-0635-4DF2-9461-2C0B4975AA7A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-oneways")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).setSearchOW(false);
			proxy.getAppliedRuleCategories().add("additional-search-oneways");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("176452FF-0635-4DF2-9461-2C0B4975AA7A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Применимые ГДС для priceSabre
rule "rule 3"
salience -3
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "priceSabre"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS"))){
		   if(!proxy.getAppliedRuleCategories().contains("applicable-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("UNIFEST");
			proxy.getAppliedRuleCategories().add("applicable-GDS");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("7ECF341F-6648-4D16-B480-09D8E87F6358");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-oneways")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).setSearchOW(false);
			proxy.getAppliedRuleCategories().add("additional-search-oneways");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("7ECF341F-6648-4D16-B480-09D8E87F6358");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Применимые ГДС для pricePortbilet
rule "rule 4"
salience -4
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "pricePortbilet"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS"))){
		   if(!proxy.getAppliedRuleCategories().contains("applicable-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("PORTBILET");
			proxy.getAppliedRuleCategories().add("applicable-GDS");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("7C0ACD23-5504-4640-A332-EF3F38E08AA1");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-oneways")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).setSearchOW(false);
			proxy.getAppliedRuleCategories().add("additional-search-oneways");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("7C0ACD23-5504-4640-A332-EF3F38E08AA1");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Применимые ГДС для pulkovo
rule "rule 5"
salience -5
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "pulkovo"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS"))){
		   if(!proxy.getAppliedRuleCategories().contains("applicable-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("GALILEO");
			proxy.getAppliedRuleCategories().add("applicable-GDS");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("A2F077E2-9EEC-4D14-A20C-4F2B469798B8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-oneways")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).setSearchOW(true);
			proxy.getAppliedRuleCategories().add("additional-search-oneways");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("A2F077E2-9EEC-4D14-A20C-4F2B469798B8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Применимые ГДС для rostel
rule "rule 6"
salience -6
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "rostel"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS"))){
		   if(!proxy.getAppliedRuleCategories().contains("applicable-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("GALILEO");
			proxy.getAppliedRuleCategories().add("applicable-GDS");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("7BE009E2-24D2-41A2-8C63-4BDF9CFEBAB3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-oneways")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).setSearchOW(true);
			proxy.getAppliedRuleCategories().add("additional-search-oneways");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("7BE009E2-24D2-41A2-8C63-4BDF9CFEBAB3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Применимые ГДС для comerapp
rule "rule 7"
salience -7
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "comerapp"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS"))){
		   if(!proxy.getAppliedRuleCategories().contains("applicable-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("GALILEO");
			proxy.getAppliedRuleCategories().add("applicable-GDS");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("675D94E3-37C8-4D30-9165-D78933C0841C");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-oneways")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).setSearchOW(true);
			proxy.getAppliedRuleCategories().add("additional-search-oneways");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("675D94E3-37C8-4D30-9165-D78933C0841C");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Применимые ГДС для Ростелекома
rule "rule 8"
salience -8
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "rt.pososhok.ru"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS"))){
		   if(!proxy.getAppliedRuleCategories().contains("applicable-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("GALILEO");
			proxy.getAppliedRuleCategories().add("applicable-GDS");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("7360E7DF-A4AD-4AE0-9C28-7289FDBDC55B");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-oneways")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).setSearchOW(true);
			proxy.getAppliedRuleCategories().add("additional-search-oneways");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("7360E7DF-A4AD-4AE0-9C28-7289FDBDC55B");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Применимые ГДС для yar
rule "rule 9"
salience -9
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "yar"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS"))){
		   if(!proxy.getAppliedRuleCategories().contains("applicable-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("GALILEO");
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("SIRENA_TCHE");
			proxy.getAppliedRuleCategories().add("applicable-GDS");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("D5ECA67A-CBBC-4452-A396-271E5608A015");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-oneways")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).setSearchOW(true);
			proxy.getAppliedRuleCategories().add("additional-search-oneways");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("D5ECA67A-CBBC-4452-A396-271E5608A015");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Применимые ГДС
rule "rule 10"
salience -10
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "email" || == "default" || == "english" || == "komus" || == "admitad" || == "advertstar" || == "tripAdvisor" || == "flocktory" || == "i.pososhok.ru"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS"))){
		   if(!proxy.getAppliedRuleCategories().contains("applicable-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("SIRENA_TCHE");
			proxy.getAppliedRuleCategories().add("applicable-GDS");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("68C56BE3-D4E2-4a15-B4C6-A53C4A02D348");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-oneways")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).setSearchOW(true);
			proxy.getAppliedRuleCategories().add("additional-search-oneways");
			if(proxy.getAppliedRuleCategories().contains("additional-search-oneways") || proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("68C56BE3-D4E2-4a15-B4C6-A53C4A02D348");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Применимые ГДС
rule "rule 11"
salience -11
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(

		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("applicable-GDS"))){
		   if(!proxy.getAppliedRuleCategories().contains("applicable-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("GALILEO");
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addApplicableGDS("SIRENA_TCHE");
			proxy.getAppliedRuleCategories().add("applicable-GDS");
			if(proxy.getAppliedRuleCategories().contains("applicable-GDS")){
				proxy.getAppliedRules().add("61F5F473-936D-4F96-A815-92A137A0EEFD");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Дополнительные PCC
rule "rule 12"
salience -12
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "email" || == "default" || == "english" || == "komus",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.containsSegmentRevert(propSet.getFlightSegments(), new String[]{"MOW-TLV","MOW-PAR","MOW-SIP","MOW-LED","AER-MOW","MOW-DXB","MOW-FRA","MOW-LON","MOW-ODS","MOW-MIL","MOW-RIX","MOW-VIE","MOW-ALA","TAS-MOW","MOW-BAK","MOW-TAS"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-pccs"))){
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-pccs")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addAdditionalSearchPCC("39AU");
			proxy.getAppliedRuleCategories().add("additional-search-pccs");
			if(proxy.getAppliedRuleCategories().contains("additional-search-pccs")){
				proxy.getAppliedRules().add("767B34A6-12FA-4221-AF11-15244868FEEE");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#test priceSabre
rule "rule 13"
salience -13
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_AIRLINE_CORRECTIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.partnerCode == "priceSabre",
			propSet.gdsName == "UNIFEST"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("compare-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setCompareGDS("UNIFEST");
			proxy.getAppliedRuleCategories().add("compare-GDS");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("F2B60FE0-D30B-4CD0-8D18-C32D07E8ED43");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-minrate")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setMinPrice(0, null);
			proxy.getAppliedRuleCategories().add("compare-minrate");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("F2B60FE0-D30B-4CD0-8D18-C32D07E8ED43");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-maxrate")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setMaxPrice(0.0, null);
			proxy.getAppliedRuleCategories().add("compare-maxrate");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("F2B60FE0-D30B-4CD0-8D18-C32D07E8ED43");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-Pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setComparePcc("6JCH");
			proxy.getAppliedRuleCategories().add("compare-Pcc");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("F2B60FE0-D30B-4CD0-8D18-C32D07E8ED43");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#test unifest2
rule "rule 14"
salience -14
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_AIRLINE_CORRECTIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.partnerCode == "unifest2",
			propSet.gdsName == "UNIFEST"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("compare-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setCompareGDS("UNIFEST");
			proxy.getAppliedRuleCategories().add("compare-GDS");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("91249ACB-F024-42FD-AC60-57FF8BFF8A6E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-minrate")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setMinPrice(0, null);
			proxy.getAppliedRuleCategories().add("compare-minrate");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("91249ACB-F024-42FD-AC60-57FF8BFF8A6E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-maxrate")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setMaxPrice(0.0, null);
			proxy.getAppliedRuleCategories().add("compare-maxrate");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("91249ACB-F024-42FD-AC60-57FF8BFF8A6E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-Pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setComparePcc("6JCH");
			proxy.getAppliedRuleCategories().add("compare-Pcc");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("91249ACB-F024-42FD-AC60-57FF8BFF8A6E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#SU по цене GDS, субсидированные тарифы
rule "rule 15"
salience -15
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_AIRLINE_CORRECTIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "SU",
			propSet.fareBasises contains "BPXOWRF" || contains "BPXRTRF"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("compare-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setCompareGDS("GALILEO");
			proxy.getAppliedRuleCategories().add("compare-GDS");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("AA53CADD-4140-4504-A71F-E6D6C5F2D1AF");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-Pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setComparePcc("7QI4");
			proxy.getAppliedRuleCategories().add("compare-Pcc");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("AA53CADD-4140-4504-A71F-E6D6C5F2D1AF");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-minrate")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setMinPrice(0, null);
			proxy.getAppliedRuleCategories().add("compare-minrate");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("AA53CADD-4140-4504-A71F-E6D6C5F2D1AF");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-maxrate")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setMaxPrice(0.0, null);
			proxy.getAppliedRuleCategories().add("compare-maxrate");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("AA53CADD-4140-4504-A71F-E6D6C5F2D1AF");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Yar по цене GDS
rule "rule 16"
salience -16
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_AIRLINE_CORRECTIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.partnerCode == "yar"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("compare-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setCompareGDS("GALILEO");
			proxy.getAppliedRuleCategories().add("compare-GDS");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("3EC2F65A-2039-4489-98B0-E7389B2FD0D3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-Pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setComparePcc("7QI4");
			proxy.getAppliedRuleCategories().add("compare-Pcc");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("3EC2F65A-2039-4489-98B0-E7389B2FD0D3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-maxrate")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setMaxPrice(0.0, null);
			proxy.getAppliedRuleCategories().add("compare-maxrate");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-maxrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("3EC2F65A-2039-4489-98B0-E7389B2FD0D3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#SU по цене GDS
rule "rule 17"
salience -17
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_AIRLINE_CORRECTIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "SU"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("compare-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setCompareGDS("GALILEO");
			proxy.getAppliedRuleCategories().add("compare-GDS");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("D235DAB8-B1F7-44B3-BE18-F7294A2356CE");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-Pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setComparePcc("7QI4");
			proxy.getAppliedRuleCategories().add("compare-Pcc");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("D235DAB8-B1F7-44B3-BE18-F7294A2356CE");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-minrate")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setMinPrice(0, null);
			proxy.getAppliedRuleCategories().add("compare-minrate");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("D235DAB8-B1F7-44B3-BE18-F7294A2356CE");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Дополнительные PCC для поиска Star
rule "rule 18"
salience -18
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.gds.rules.proxy.GDSParametersProperties(
			propSet.partnerCode == "startravel" || == "startravelapp" || == "startravel_tomsk" || == "startravel_vlad" || == "startravel_ufa" || == "startravel_krr" || == "startravel_goj" || == "startravel_rov" || == "startravel_vog" || == "startravel_kja" || == "startravel_cek"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("additional-search-pccs"))){
		   if(!proxy.getAppliedRuleCategories().contains("additional-search-pccs")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSParametersActions) proxy.getActionSet()).addAdditionalSearchPCC("779W");
			proxy.getAppliedRuleCategories().add("additional-search-pccs");
			if(proxy.getAppliedRuleCategories().contains("additional-search-pccs")){
				proxy.getAppliedRules().add("ADA7A000-4B93-4CF5-96F1-E113F1BD5774");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Катарцы по цене GDS
rule "rule 19"
salience -19
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_AIRLINE_CORRECTIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "QR"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("compare-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setCompareGDS("GALILEO");
			proxy.getAppliedRuleCategories().add("compare-GDS");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("944E8374-9F29-4E6E-AAA1-5872C3AA5ACD");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-Pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setComparePcc("7QI4");
			proxy.getAppliedRuleCategories().add("compare-Pcc");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("944E8374-9F29-4E6E-AAA1-5872C3AA5ACD");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-minrate")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setMinPrice(0, null);
			proxy.getAppliedRuleCategories().add("compare-minrate");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("944E8374-9F29-4E6E-AAA1-5872C3AA5ACD");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#UT по цене GDS
rule "rule 20"
salience -20
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_AIRLINE_CORRECTIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "UT"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("compare-GDS")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setCompareGDS("GALILEO");
			proxy.getAppliedRuleCategories().add("compare-GDS");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("1C45BA02-AB4B-4407-83F9-F17C33C34317");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-Pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setComparePcc("7QI4");
			proxy.getAppliedRuleCategories().add("compare-Pcc");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("1C45BA02-AB4B-4407-83F9-F17C33C34317");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("compare-minrate")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSAirlineCorrectionActions) proxy.getActionSet()).setMinPrice(0, null);
			proxy.getAppliedRuleCategories().add("compare-minrate");
			if(proxy.getAppliedRuleCategories().contains("compare-GDS") || proxy.getAppliedRuleCategories().contains("compare-minrate") || proxy.getAppliedRuleCategories().contains("compare-Pcc")){
				proxy.getAppliedRules().add("1C45BA02-AB4B-4407-83F9-F17C33C34317");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Субсидированные тарифы SU закрываем
rule "rule 21"
salience -21
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "SIRENA_TCHE",
			propSet.carriers contains "SU"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("79F8951B-1D67-47CC-B1ED-7159FEACC6D9");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Субсидированные тарифы SU закрываем
rule "rule 22"
salience -22
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.fareBasises contains "PZZSOC" || contains "PCDSOC" || contains "PCHSOC" || contains "PDSSOC" || contains "PACSOC" || contains "PZZOCN" || contains "PCHOCN" || contains "PRTSOC" || contains "POWSOC" || contains "PSOC",
			propSet.carriers contains "SU"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("47B5630D-3B19-4EFD-8E58-0026C9C3A68C");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрываем SU субсидированные
rule "rule 23"
salience -23
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.carriers contains "SU",
			propSet.fareBasises contains "BPXOWRF" || contains "BPXRTRF",
			propSet.partnerCode == "yar" || == "admitad" || == "advertstar"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("E212A1AA-F008-4558-BE9A-07819BFB2116");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрываем 4U в Галилео
rule "rule 24"
salience -24
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.carriers contains "4U"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("5A063F4B-DD86-4ACB-BD36-FBE79B8EFEF5");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Временно закрываем Berlogic
rule "rule 25"
salience -25
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "SIRENA_TCHE",
			propSet.carriers contains "KC"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("CB89F595-A9AC-4C1C-990C-B9619BEC9625");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрываем UT, 4G
rule "rule 26"
salience -26
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.containsCombineList(propSet.getCombinedAirlines(), new String[]{"-UT+4G"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("FE9A89FA-EB0C-4D73-8165-2871E1836CFE");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрываем S7, HY
rule "rule 27"
salience -27
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.containsCombineList(propSet.getCombinedAirlines(), new String[]{"-S7+HY"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("445923C4-0D15-4090-A9B4-C57ECD564C3B");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрываем S7, Y7
rule "rule 28"
salience -28
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.containsCombineList(propSet.getCombinedAirlines(), new String[]{"-S7+Y7"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("07E4EE47-C446-4971-B0AC-80E0AE327D86");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрываем UN
rule "rule 29"
salience -29
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "UN",
			propSet.operatingAirlines contains "UN"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("CF1EEC69-315D-4B48-A4D7-6040AB778131");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Временно закрываем 5N
rule "rule 30"
salience -30
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "5N"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("776DFD81-C76E-4E93-BBC7-ACB179001CAF");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#запрещено в  PCC STAR
rule "rule 31"
salience -31
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "779W",
			propSet.passengerType != "YOUTH"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("C44C5D8D-51F6-4A17-B406-4E7E005DC8BA");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрыли UN, класс O
rule "rule 32"
salience -32
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "UN",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.beginsWith(propSet.getFareBasises(), new String[]{"O"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("12C54B3B-5388-4620-AC89-29F6CD82DD90");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрыл аэрофлот по РФ
rule "rule 33"
salience -33
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "SU",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.confinedTo(propSet.getVisitedCities(), new String[]{"RU"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(false);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("46B628D1-043D-4E35-AE84-C71DB76981FD");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрываем A9, U6
rule "rule 34"
salience -34
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.containsCombineList(propSet.getCombinedAirlines(), new String[]{"-A9+U6"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("38EAB76F-4393-48FB-9D75-5513A069EA53");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрыли S7 из феста
rule "rule 35"
salience -35
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "S7",
			propSet.pcc == "7QI4"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(false);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("80E807CB-E40F-413D-B842-1FAC84E23F70");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрыли CY
rule "rule 36"
salience -36
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "CY"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("2F27CFAB-D7F4-4119-8508-624BF20EA9E2");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрыли WX
rule "rule 37"
salience -37
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "WX"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("D983C330-8BCA-4F96-833D-998AE644AA74");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрыли Z9
rule "rule 38"
salience -38
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "Z9"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("5140FC90-C4DB-441B-AA97-5BC0A11029CE");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Закрыли U9
rule "rule 39"
salience -39
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "U9"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("8CF81010-D0B3-4C47-BB58-29484CB15918");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#U6 субсидированные
rule "rule 40"
salience -40
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "U6",
			propSet.fareBasises contains "UBDOW"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("14F1F23C-13FF-4106-B001-A42237FBA9F8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#SU негарантированные
rule "rule 41"
salience -41
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "SU",
			propSet.guaranteedTariff == false,
			propSet.fareBasises excludes "RPR"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("8A7B2C47-3070-4D56-AAA6-8523C4C7069A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#UN субсидированные
rule "rule 42"
salience -42
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "UN",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"NSOC","NCOMP"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("E985D7CB-702E-4417-B1A5-A804C8A9F094");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#SU в Berlogic
rule "rule 43"
salience -43
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "SU",
			propSet.gdsName == "SIRENA_TCHE"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("710CA0BD-CACC-4912-804D-94732430A89E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#SU субсидированные
rule "rule 44"
salience -44
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "SU",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"SOC","PTR"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("9D194FF8-F21D-4F69-8DDF-33B83AAE288C");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#FV для KGD
rule "rule 45"
salience -45
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "FV",
			propSet.fareBasises contains "RSUBOW"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("E07BD904-E4E1-4F95-A1B2-0A24FD50B4E4");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#CX для дайверов V класс
rule "rule 46"
salience -46
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "CX",
			propSet.fareBasises contains "V2MDIVE"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("0E5DBEE5-1953-4B8A-B49F-8F5E1E54A186");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#CX для дайверов L класс
rule "rule 47"
salience -47
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "CX",
			propSet.fareBasises contains "L2MDIVE"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("10DC5D7F-8782-4456-A0D1-F87684EA9B49");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#разрешено в офисе амер
rule "rule 48"
salience -48
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "79VJ",
			propSet.carriers excludes "UT" && excludes "QR" && excludes "DL" && excludes "AB" && excludes "HG" && excludes "4T" && excludes "UN" && excludes "AT" && excludes "W3" && excludes "S3" && excludes "SE" && excludes "PS" && excludes "EY" && excludes "MH"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("87BB613F-A375-4A52-B5E5-2DE4B8BD2B6B");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#запрещено в офисе СТАРА
rule "rule 49"
salience -49
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "779W",
			propSet.airlines contains "OG" || contains "FV" || contains "GW" || contains "VV" || contains "BD" || contains "QW" || contains "MA" || contains "UT" || contains "M5" || contains "KV" || contains "UF" || contains "EI" || contains "H8" || contains "R2" || contains "RB" || contains "6B" || contains "7K" || contains "U8" || contains "3G" || contains "5V" || contains "QH" || contains "H3" || contains "IP" || contains "3R" || contains "ST" || contains "GI" || contains "FL" || contains "P4" || contains "B6" || contains "L6" || contains "DV" || contains "5M" || contains "DI" || contains "M9" || contains "5K" || contains "R8" || contains "P9" || contains "3T" || contains "YD" || contains "DY" || contains "E8" || contains "AS" || contains "XF" || contains "QB" || contains "NK" || contains "BV" || contains "S4" || contains "SP" || contains "IT" || contains "N2" || contains "7Y" || contains "7V" || contains "MH" || contains "8U" || contains "9H" || contains "B4" || contains "C9" || contains "DX" || contains "EF" || contains "G3" || contains "GU" || contains "GY" || contains "I9" || contains "ID" || contains "IK" || contains "YA" || contains "K8" || contains "LI" || contains "MF" || contains "MM" || contains "NT" || contains "OL" || contains "Q3" || contains "PO" || contains "QC" || contains "RE" || contains "RV" || contains "S2" || contains "S3" || contains "SS" || contains "UO" || contains "UP" || contains "KF" || contains "VH" || contains "VK" || contains "VX" || contains "XK" || contains "XQ" || contains "XY" || contains "XW" || contains "YG" || contains "YR" || contains "Z5" || contains "Z6" || contains "ZA" || contains "JQ" || contains "DJ" || contains "BG" || contains "3K" || contains "HZ" || contains "R3" || contains "GJ" || contains "4L" || contains "D9" || contains "WZ"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("5BB3FC61-BAD3-4984-92C3-835A29EFA52E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#запрещено в нем PCC
rule "rule 50"
salience -50
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "39AU",
			propSet.airlines contains "OG" || contains "FV" || contains "WZ" || contains "GW" || contains "VV" || contains "YC" || contains "VY" || contains "4U" || contains "NN"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("054A59E2-1026-43F4-A375-471E237D2AAA");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#запрещено в украинском PCC
rule "rule 51"
salience -51
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "3B2J",
			propSet.airlines contains "OG" || contains "EN" || contains "FV" || contains "WZ" || contains "GW" || contains "U8" || contains "VV" || contains "NN"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("33662834-995F-4932-A458-3DE3410629B0");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#S7 с кем-либо для yar
rule "rule 52"
salience -52
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "S7",
			propSet.numOfAirlines >= 2,
			propSet.partnerCode == "yar"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("44F823B9-F4E7-4982-B397-B714330689A1");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Запрет R3 и S7 вместе
rule "rule 53"
salience -53
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "5WR3" || == "7QI4",
			propSet.airlines contains "S7",
			propSet.airlines contains "R3"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("D80637D1-AD85-4D0E-9B48-6F5171B13672");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Запрет HY и S7 вместе
rule "rule 54"
salience -54
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "5WR3" || == "7QI4",
			propSet.airlines contains "S7",
			propSet.airlines contains "HY"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("0A80C850-5B64-48F8-9E2F-24E12A9AF17D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Запрет TZ и S7 вместе
rule "rule 55"
salience -55
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "5WR3" || == "7QI4",
			propSet.airlines contains "S7",
			propSet.airlines contains "TZ"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("CF23746A-CA8A-4A11-92A5-2F246A8A8F0A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Запрет UN и S7 вместе
rule "rule 56"
salience -56
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "5WR3" || == "7QI4" || == "39AU",
			propSet.airlines contains "S7",
			propSet.airlines contains "UN"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("3345168E-32B3-4E24-803C-021E961CE796");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Запрещённые авиакомпании совместно с VX
rule "rule 57"
salience -57
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "5WR3" || == "7QI4",
			propSet.carriers contains "VX",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.confinedTo(com.gridnine.bof.common.model.rules.standard.ProxyHelper.to2DList(propSet.getOperatingAirlines()), new String[]{"CA- CI- CX- EK- EY- FJ- ХА- ХУ- JL- КЭ- LY- МУ- NZ- ОЗ- QF- S4- SA- SK- КВ.- SV- TG- TK- VA"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("0A6C9CF6-FA14-4C90-9002-A12F34E30D7E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Запрет U6 совместно с B2
rule "rule 58"
salience -58
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "5WR3" || == "7QI4",
			propSet.carriers contains "U6",
			propSet.operatingAirlines contains "B2"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("4E35BC0B-D6E7-410C-BC2F-CC8CB88EB3F1");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Запрещённые авиакомпании для Посошка
rule "rule 59"
salience -59
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "5WR3" || == "7QI4",
			propSet.airlines contains "OG" || contains "FV" || contains "2U" || contains "VV" || contains "MA" || contains "CQ" || contains "AV" || contains "RB" || contains "D9" || contains "XW" || contains "NH" || contains "NW" || contains "FL" || contains "N2" || contains "JQ" || contains "NE" || contains "A6" || contains "QS" || contains "E3" || contains "H8" || contains "E5" || contains "R2" || contains "D9" || contains "7K" || contains "XF" || contains "5V" || contains "H3" || contains "IP" || contains "GI" || contains "P4" || contains "L6" || contains "5M" || contains "DI" || contains "IK" || contains "QB" || contains "M9" || contains "5K" || contains "R8" || contains "P9" || contains "3T" || contains "YD" || contains "E8" || contains "UF" || contains "SP" || contains "H7" || contains "KD" || contains "OP" || contains "5W" || contains "P2" || contains "T6" || contains "R4" || contains "IR" || contains "7B" || contains "IC" || contains "XK" || contains "KF" || contains "W5" || contains "5L" || contains "AP" || contains "GW" || contains "WZ" || contains "U8" || contains "PS"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("AF02B704-D391-4D28-B29A-6E46ED326186");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Запрещено автоподтверждение qunar
rule "rule 60"
salience -60
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.partnerCode == "qunar",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.containsSegment(propSet.getFlightSegments(), new String[]{"MOW-LON","MOW-PAR","MOW-LED","MOW-FRA","MOW-BER"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(false);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("FFB0FCD3-F2E2-4C00-A32E-24489191AF42");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение qunar
rule "rule 61"
salience -61
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.partnerCode == "qunar"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("C2D719C1-4415-42FF-ACBC-8126F5C86550");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение SIG
rule "rule 62"
salience -62
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "SIG"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("66E43214-0E95-4E8A-8080-33218A4B9292");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение
rule "rule 63"
salience -63
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.guaranteedTariff == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("6F908EA6-CB1E-44D4-A0F9-C24E5D9C4941");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Копия Автоподтверждение
rule "rule 64"
salience -64
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "779W"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("A50A7660-A883-40FB-898E-4AC24A1DFAD6");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение SU (OW)
rule "rule 65"
salience -65
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.numOfAirlines == 1,
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.confinedTo(com.gridnine.bof.common.model.rules.standard.ProxyHelper.to2DList(propSet.getAirlines()), new String[]{"SU"})),
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.bookingClasses excludes "R"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("729736D4-0441-4A10-A57C-CBDE104C9159");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение SU (RT)
rule "rule 66"
salience -66
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.numOfAirlines == 1,
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.confinedTo(com.gridnine.bof.common.model.rules.standard.ProxyHelper.to2DList(propSet.getAirlines()), new String[]{"SU"})),
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.bookingClasses excludes "R"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("909F236C-CF4C-4CD9-910D-380F76415A49");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение (OW) Star Al
rule "rule 67"
salience -67
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "LH" || contains "LX" || contains "OS" || contains "SK" || contains "TP" || contains "BT" || contains "LO",
			propSet.guaranteedTariff == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("53C800B9-2350-45A5-89BE-790E164B5D7A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение (RT) Star Al
rule "rule 68"
salience -68
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "LH" || contains "LX" || contains "OS" || contains "SK" || contains "TP" || contains "BT" || contains "LO",
			propSet.guaranteedTariff == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("958D672E-9A6A-489F-A13A-151AA05F2D14");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение (OW) Sky Team
rule "rule 69"
salience -69
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "LH" || contains "LX" || contains "OS" || contains "SK" || contains "TP" || contains "BT" || contains "LO",
			propSet.guaranteedTariff == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("B24D96FB-B514-43CC-B6E7-2B4DF8E07801");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение (RT) Sky Team
rule "rule 70"
salience -70
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "LH" || contains "LX" || contains "OS" || contains "SK" || contains "TP" || contains "BT" || contains "LO",
			propSet.guaranteedTariff == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("AE9C2392-14E4-46AF-85A8-19E8F886EFE3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение (OW) One World
rule "rule 71"
salience -71
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "BA" || contains "BD",
			propSet.guaranteedTariff == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("9BC860B4-D042-484C-8C74-27F7279FB42D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение (RT) One World
rule "rule 72"
salience -72
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "BA" || contains "BD",
			propSet.guaranteedTariff == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("D92EB5DC-A1EC-47D9-9E3D-E0A1CA98139F");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение (OW) AB+NG
rule "rule 73"
salience -73
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "AB" || contains "NG",
			propSet.guaranteedTariff == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(false);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("E48938AA-0270-4EAD-8E53-16D88364EFC3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение (RT) AB+NG
rule "rule 74"
salience -74
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "AB" || contains "NG",
			propSet.guaranteedTariff == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("FF289F98-61DE-4A64-ABC7-95C09BA1E2F6");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение (RT)
rule "rule 75"
salience -75
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.numOfAirlines == 1,
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.guaranteedTariff == true,
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("C3596995-BED1-477b-B0EC-3A288F1DE785");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоподтверждение (OW)
rule "rule 76"
salience -76
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.numOfAirlines == 1,
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.guaranteedTariff == true,
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-confirmation"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-confirmation")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoConfirmationEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-confirmation");
			if(proxy.getAppliedRuleCategories().contains("auto-confirmation")){
				proxy.getAppliedRules().add("49B672F5-FBD8-418f-BDAD-95D6949180BE");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка для rostel
rule "rule 77"
salience -77
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.partnerCode == "rostel"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(false);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("639C26D4-C6D1-4EE7-A681-8E54986E3054");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка SU (RT)
rule "rule 78"
salience -78
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.numOfAirlines == 1,
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "SU",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT","PSOC","SOC"})),
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(false);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("A56DA144-2608-4B0F-8E3B-7F525A16FFC1");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка (RT)
rule "rule 79"
salience -79
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"})),
			propSet.numOfAirlines == 1,
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "EL" || contains "S7" || contains "KE" || contains "J2" || contains "R3" || contains "Z6" || contains "GJ" || contains "HY" || contains "7D" || contains "7W" || contains "9U" || contains "9W" || contains "A3" || contains "AA" || contains "AB" || contains "AF" || contains "AM" || contains "AT" || contains "AY" || contains "B2" || contains "BA" || contains "BD" || contains "BI" || contains "BT" || contains "CA" || contains "CI" || contains "CX" || contains "CZ" || contains "DE" || contains "DL" || contains "EK" || contains "ET" || contains "EY" || contains "FB" || contains "FI" || contains "FJ" || contains "FV" || contains "HM" || contains "HR" || contains "HX" || contains "IB" || contains "IG" || contains "IY" || contains "IZ" || contains "J2" || contains "JJ" || contains "JL" || contains "JP" || contains "JU" || contains "KE" || contains "KL" || contains "KM" || contains "LA" || contains "LH" || contains "LX" || contains "LY" || contains "MA" || contains "MD" || contains "MK" || contains "MU" || contains "NX" || contains "OA" || contains "OK" || contains "OM" || contains "OS" || contains "OU" || contains "PG" || contains "QR" || contains "RC" || contains "S4" || contains "SA" || contains "SK" || contains "SN" || contains "SQ" || contains "SW" || contains "TG" || contains "TN" || contains "TP" || contains "TU" || contains "UA" || contains "UN" || contains "UL" || contains "UT" || contains "UX" || contains "VN" || contains "VS" || contains "WY" || contains "YM" || contains "YO" || contains "YC",
			propSet.guaranteedTariff == true,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(false);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("b2d15fee-20cf-11e1-858a-8e66a5fdde2a");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка AF+KL (RT)
rule "rule 80"
salience -80
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "AF" || contains "KL",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"})),
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(false);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("2090DBFD-D44B-41E0-80EF-511E262AECED");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка AF+AZ (RT)
rule "rule 81"
salience -81
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "AF" || contains "AZ",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"})),
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(false);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("D9AE6F7A-8496-4E2C-B4EF-56F918A4D3F8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка LH+OS (RT)
rule "rule 82"
salience -82
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "LH" || contains "OS",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"})),
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("826CCF9B-C03F-4DEB-9036-5423AA14EAB3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка LX+OS (RT)
rule "rule 83"
salience -83
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "LX" || contains "OS",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"})),
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("48F200C9-28D3-4417-A66D-1A2563E6B694");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка AB+HG (RT)
rule "rule 84"
salience -84
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "AB" || contains "HG",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"})),
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("F62CB94A-54C6-41EA-9CD5-9013BF0AC9D4");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка AB+NG (RT)
rule "rule 85"
salience -85
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			propSet.oneWayTicket == false,
			propSet.numOfSegments < 5,
			propSet.airlines contains "AB" || contains "NG",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"})),
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("D5455A97-7BB9-4113-9896-CBE324337793");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка SU (OW)
rule "rule 86"
salience -86
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"})),
			propSet.numOfAirlines == 1,
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "SU",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT","PSOC","SOC"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("7067695E-527B-4FD0-8F74-C9078739F415");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка (OW)
rule "rule 87"
salience -87
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"})),
			propSet.numOfAirlines == 1,
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "EL" || contains "S7" || contains "UT" || contains "UN" || contains "KE" || contains "J2" || contains "R3" || contains "Z6" || contains "GJ" || contains "HY" || contains "7D" || contains "7W" || contains "9U" || contains "9W" || contains "A3" || contains "AA" || contains "AB" || contains "AF" || contains "AM" || contains "AT" || contains "AY" || contains "B2" || contains "BA" || contains "BD" || contains "BI" || contains "BT" || contains "CA" || contains "CI" || contains "CX" || contains "CZ" || contains "DE" || contains "DL" || contains "EK" || contains "ET" || contains "EY" || contains "FB" || contains "FI" || contains "FJ" || contains "FV" || contains "HM" || contains "HR" || contains "HX" || contains "IB" || contains "IG" || contains "IY" || contains "IZ" || contains "J2" || contains "JJ" || contains "JL" || contains "JP" || contains "JU" || contains "KE" || contains "KL" || contains "KM" || contains "LA" || contains "LH" || contains "LX" || contains "LY" || contains "MA" || contains "MD" || contains "MK" || contains "MU" || contains "NX" || contains "OA" || contains "OK" || contains "OM" || contains "OS" || contains "OU" || contains "PG" || contains "QR" || contains "RC" || contains "S4" || contains "SA" || contains "SK" || contains "SN" || contains "SQ" || contains "SW" || contains "TG" || contains "TN" || contains "TP" || contains "TU" || contains "UA" || contains "UL" || contains "UX" || contains "VN" || contains "VS" || contains "WY" || contains "YM" || contains "YO" || contains "YC",
			propSet.guaranteedTariff == true,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("c61410ec-20cf-11e1-858a-8e66a5fdde2a");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка AF+AZ (OW)
rule "rule 88"
salience -88
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"})),
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "AF" || contains "AZ",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("031D17B6-0F05-4104-B7B7-AA1EB34AA9F8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка AF+KL (OW)
rule "rule 89"
salience -89
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"})),
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "AF" || contains "KL",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("086DB711-AA0D-4E1C-8ABA-9F4D65891201");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка LH+OS (OW)
rule "rule 90"
salience -90
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"})),
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "LH" || contains "OS",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("47D452C0-076B-4261-B383-97A3B4D0599F");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка LX+OS (OW)
rule "rule 91"
salience -91
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"})),
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "LX" || contains "OS",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("00BA045E-83C2-401C-A682-245F5452F227");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка AB+NG (OW)
rule "rule 92"
salience -92
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"})),
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "AB" || contains "NG",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(false);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("E249607A-3C9C-47C8-A846-1BC8792DF0BA");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Автоматическая выписка AB+HG (OW)
rule "rule 93"
salience -93
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.passengerType != "YOUTH" && != "SENIOR",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getDepartureLocations(), new String[]{"AFR","ASA"})),
			propSet.oneWayTicket == true,
			propSet.numOfSegments < 3,
			propSet.airlines contains "AB" || contains "HG",
			propSet.guaranteedTariff == true,
			propSet.codeShare == false,
			propSet.pcc != null,
			propSet.pcc != "779W" && != "3B2J" && != "79VJ" && != "39AU",
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RZZSOCOW","RZZSOCRT","RCDSOCOW","RCDSOCRT"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("auto-ticketing"))){
		   if(!proxy.getAppliedRuleCategories().contains("auto-ticketing")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setAutoTicketingEnabled(true);
			proxy.getAppliedRuleCategories().add("auto-ticketing");
			if(proxy.getAppliedRuleCategories().contains("auto-ticketing")){
				proxy.getAppliedRules().add("02850C77-7CFC-439F-AB59-AB9F8A2C4A82");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Паспортные данные нужны
rule "rule 94"
salience -94
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.airlines contains "NN" || contains "SU" || contains "FV" || contains "UN" || contains "5N" || contains "S7" || contains "D9" || contains "U6" || contains "U9" || contains "UT" || contains "GW" || contains "TP" || contains "R3"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("passporting"))){
		   if(!proxy.getAppliedRuleCategories().contains("passporting")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setPassportDataRequired(true);
			proxy.getAppliedRuleCategories().add("passporting");
			if(proxy.getAppliedRuleCategories().contains("passporting")){
				proxy.getAppliedRules().add("2FC6E8D6-A427-44a7-888C-7CC1AC2AC253");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Паспортные данные: по-умолчанию
rule "rule 95"
salience -95
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(

		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("passporting"))){
		   if(!proxy.getAppliedRuleCategories().contains("passporting")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setPassportDataRequired(false);
			proxy.getAppliedRuleCategories().add("passporting");
			if(proxy.getAppliedRuleCategories().contains("passporting")){
				proxy.getAppliedRules().add("ADD668E1-CB2B-474d-9BEB-F8D7A9D9777E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Владелец бланков: Сибирь
rule "rule 96"
salience -96
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "S7",
			propSet.interline == false,
			propSet.pcc == "5WR3" || == "5MS5" || == "7QI4"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("blank-owner"))){
		   if(!proxy.getAppliedRuleCategories().contains("blank-owner")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setBlankOwner("S7");
			proxy.getAppliedRuleCategories().add("blank-owner");
			if(proxy.getAppliedRuleCategories().contains("blank-owner")){
				proxy.getAppliedRules().add("725CA999-9A77-45d5-BD33-DC4E5C6FDDF1");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Владелец бланков: ТКП
rule "rule 97"
salience -97
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "GJ" || contains "HY" || contains "U8",
			propSet.pcc == "7QI4" || == "5MS5" || == "39YA"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("blank-owner"))){
		   if(!proxy.getAppliedRuleCategories().contains("blank-owner")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setBlankOwner("\u04281");
			proxy.getAppliedRuleCategories().add("blank-owner");
			if(proxy.getAppliedRuleCategories().contains("blank-owner")){
				proxy.getAppliedRules().add("5D0337AA-10E5-4e0e-8304-ECE2BE4D66EE");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Владелец бланков: BSP на украине
rule "rule 98"
salience -98
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "HY",
			propSet.pcc == "3B2J"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("blank-owner"))){
		   if(!proxy.getAppliedRuleCategories().contains("blank-owner")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setBlankOwner("BSP");
			proxy.getAppliedRuleCategories().add("blank-owner");
			if(proxy.getAppliedRuleCategories().contains("blank-owner")){
				proxy.getAppliedRules().add("8D97F1A2-A69C-4649-86A1-2CB14D668277");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Владелец бланков: BSP
rule "rule 99"
salience -99
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "EL" || contains "Z8" || contains "K6" || contains "S7" || contains "UT" || contains "4T" || contains "HG" || contains "DT" || contains "KQ" || contains "KR" || contains "MR" || contains "5N" || contains "6H" || contains "7W" || contains "9U" || contains "9W" || contains "A3" || contains "A9" || contains "AA" || contains "AB" || contains "AF" || contains "AM" || contains "AR" || contains "AT" || contains "AY" || contains "AZ" || contains "B2" || contains "BA" || contains "BE" || contains "BI" || contains "BJ" || contains "BT" || contains "CA" || contains "CI" || contains "CM" || contains "CX" || contains "CZ" || contains "DE" || contains "DL" || contains "EK" || contains "EN" || contains "ET" || contains "EY" || contains "FB" || contains "FI" || contains "FJ" || contains "FV" || contains "GA" || contains "HM" || contains "HR" || contains "HU" || contains "HX" || contains "IB" || contains "IG" || contains "IY" || contains "IZ" || contains "J2" || contains "JJ" || contains "JL" || contains "JP" || contains "JU" || contains "KC" || contains "KE" || contains "KL" || contains "KM" || contains "LA" || contains "LH" || contains "LO" || contains "LX" || contains "LY" || contains "MD" || contains "MH" || contains "MK" || contains "MF" || contains "MS" || contains "MU" || contains "NN" || contains "NX" || contains "OA" || contains "OG" || contains "OK" || contains "OM" || contains "OS" || contains "OU" || contains "PG" || contains "PS" || contains "R3" || contains "QR" || contains "RC" || contains "RJ" || contains "S3" || contains "S4" || contains "SA" || contains "SK" || contains "SN" || contains "SQ" || contains "SU" || contains "SW" || contains "TG" || contains "TK" || contains "TN" || contains "TP" || contains "TU" || contains "TX" || contains "U6" || contains "U9" || contains "UA" || contains "UL" || contains "UN" || contains "UX" || contains "VN" || contains "VS" || contains "W2" || contains "W3" || contains "WY" || contains "XW" || contains "YM" || contains "YO" || contains "ZI" || contains "Z6" || contains "FZ" || contains "KK" || contains "ST" || contains "BV"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("blank-owner"))){
		   if(!proxy.getAppliedRuleCategories().contains("blank-owner")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setBlankOwner("BSP");
			proxy.getAppliedRuleCategories().add("blank-owner");
			if(proxy.getAppliedRuleCategories().contains("blank-owner")){
				proxy.getAppliedRules().add("03F8DEE2-4709-4776-9EF3-1A36226CAA00");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Выписка на бланках Hunair
rule "rule 100"
salience -100
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(

		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("blank-owner"))){
		   if(!proxy.getAppliedRuleCategories().contains("blank-owner")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setBlankOwner("hunair");
			proxy.getAppliedRuleCategories().add("blank-owner");
			if(proxy.getAppliedRuleCategories().contains("blank-owner")){
				proxy.getAppliedRules().add("95EF6E24-0A30-42D8-A95A-DD963CD4A996");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PCC для выписки: Сибирь
rule "rule 101"
salience -101
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "S7",
			propSet.interline == false,
			propSet.pcc == "5WR3" || == "5MS5" || == "7QI4"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("ticketing-pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setTicketingPCC("33VY");
			proxy.getAppliedRuleCategories().add("ticketing-pcc");
			if(proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
				proxy.getAppliedRules().add("BDA73CCD-1769-4e6e-A46C-075F8E86D64B");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PCC для выписки 39AU
rule "rule 102"
salience -102
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "39AU"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("ticketing-pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setTicketingPCC("39AU");
			proxy.getAppliedRuleCategories().add("ticketing-pcc");
			if(proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
				proxy.getAppliedRules().add("28A7BC3B-E665-4475-B8F6-DB580B9D43F9");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PCC для выписки 79VJ
rule "rule 103"
salience -103
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "79VJ"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("ticketing-pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setTicketingPCC("79VJ");
			proxy.getAppliedRuleCategories().add("ticketing-pcc");
			if(proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
				proxy.getAppliedRules().add("63F774C1-E787-457B-8689-B23C10F84069");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PCC для выписки 779W STA тарифы
rule "rule 104"
salience -104
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "779W",
			propSet.carriers contains "S7",
			propSet.fareBasises contains "OBSZSRT" || contains "OBSZSOW"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("ticketing-pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setTicketingPCC("779W");
			proxy.getAppliedRuleCategories().add("ticketing-pcc");
			if(proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
				proxy.getAppliedRules().add("C9932A7A-18E6-49FF-B3CA-6A07242B8F63");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PCC для выписки 779W S7
rule "rule 105"
salience -105
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "779W",
			propSet.carriers contains "S7"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("ticketing-pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setTicketingPCC("33VY");
			proxy.getAppliedRuleCategories().add("ticketing-pcc");
			if(proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
				proxy.getAppliedRules().add("7A20FE5D-AE20-4216-9BEC-F74AC0D3C8A6");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PCC для выписки 779W остальное
rule "rule 106"
salience -106
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "779W"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("ticketing-pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setTicketingPCC("5MS5");
			proxy.getAppliedRuleCategories().add("ticketing-pcc");
			if(proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
				proxy.getAppliedRules().add("C82E2D5F-2ECD-4C78-B31E-2F7F663D1AE2");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PCC для выписки 3B2J
rule "rule 107"
salience -107
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.pcc == "3B2J"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("ticketing-pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setTicketingPCC("3B2J");
			proxy.getAppliedRuleCategories().add("ticketing-pcc");
			if(proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
				proxy.getAppliedRules().add("920BF6F6-ADD0-441A-B151-BB51C60E8025");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PCC для выписки: ТКП
rule "rule 108"
salience -108
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "GJ" || contains "HY" || contains "U8"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("ticketing-pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setTicketingPCC("39YA");
			proxy.getAppliedRuleCategories().add("ticketing-pcc");
			if(proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
				proxy.getAppliedRules().add("FF1DAFDB-CF41-4ad9-8C1A-D8A3BD4EFB92");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PCC для выписки: по-умолчанию
rule "rule 109"
salience -109
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TICKETING_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(

		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("ticketing-pcc"))){
		   if(!proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
			((com.gridnine.bof.server.gds.rules.proxy.TicketingParametersActions) proxy.getActionSet()).setTicketingPCC("5MS5");
			proxy.getAppliedRuleCategories().add("ticketing-pcc");
			if(proxy.getAppliedRuleCategories().contains("ticketing-pcc")){
				proxy.getAppliedRules().add("7D8F5D28-98A0-4d7e-971E-F8D9DA85BD18");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Сборы за оплату yar
rule "rule 110"
salience -110
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.partnerCode == "yar"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-fees"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-fees")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CASH",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("INVOICE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET",1.8,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CYBERPLAT",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("WEBMONEY",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI_LK",2.5,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI",2.5,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("YAM",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_ONLINE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("RAPIDA",1.5,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_TCHE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("SPASIBO",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("DELTAPAY",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET_LK",1.8,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_LONG",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("KUPI_V_CREDIT",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ALFA_CLICK",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("DEPOSIT",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_AFLA_GATE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_GATE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_LONG_GATE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAYU_LONG",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAYU_GDS",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_PAYLATE",1.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_PAYPS",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_GALILEO",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("PAYPAL",3.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_CYBERSOURCE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CASH_PARTNER",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ALIPAY",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_SBERBANK",0.0,true);
			proxy.getAppliedRuleCategories().add("payment-fees");
			if(proxy.getAppliedRuleCategories().contains("payment-fees")){
				proxy.getAppliedRules().add("4B0BC9B2-A69E-441B-A153-7D1DE12B541B");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Копия Сборы за оплату - ТКП
rule "rule 111"
salience -111
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.gdsNames contains "PORTBILET"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-fees"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-fees")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CASH",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("INVOICE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CYBERPLAT",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("WEBMONEY",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI_LK",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("YAM",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_ONLINE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("RAPIDA",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_TCHE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("SPASIBO",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("DELTAPAY",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET_LK",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_LONG",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("KUPI_V_CREDIT",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ALFA_CLICK",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("DEPOSIT",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_AFLA_GATE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_GATE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_LONG_GATE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAYU_LONG",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAYU_GDS",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_PAYLATE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_PAYPS",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_GALILEO",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("PAYPAL",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_CYBERSOURCE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CASH_PARTNER",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ALIPAY",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_SBERBANK",0.0,false);
			proxy.getAppliedRuleCategories().add("payment-fees");
			if(proxy.getAppliedRuleCategories().contains("payment-fees")){
				proxy.getAppliedRules().add("DBCE778F-84A3-4A76-BA7E-4C63C96F0912");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Сборы за оплату - ТКП
rule "rule 112"
salience -112
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(

		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-fees"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-fees")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_TCHE",0.0,false);
			proxy.getAppliedRuleCategories().add("payment-fees");
			if(proxy.getAppliedRuleCategories().contains("payment-fees")){
				proxy.getAppliedRules().add("D21A2191-5D62-45AC-93E7-69A4511EB103");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Сборы за оплату - авиа стар
rule "rule 113"
salience -113
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.travelSubjects contains "AIR",
			propSet.partnerCode == "startravel" || == "startravelapp" || == "startravel_tomsk" || == "startravel_vlad" || == "startravel_ufa" || == "startravel_krr" || == "startravel_goj" || == "startravel_rov" || == "startravel_vog" || == "startravel_kja" || == "startravel_cek"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-fees"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-fees")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CASH",500.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("INVOICE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CYBERPLAT",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("WEBMONEY",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI_LK",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("YAM",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_ONLINE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("RAPIDA",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_TCHE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("SPASIBO",5.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("DELTAPAY",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET_LK",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_LONG",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("KUPI_V_CREDIT",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ALFA_CLICK",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("DEPOSIT",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_AFLA_GATE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_GATE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_LONG_GATE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAYU_LONG",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAYU_GDS",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_PAYLATE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_GALILEO",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("PAYPAL",2.0,true);
			proxy.getAppliedRuleCategories().add("payment-fees");
			if(proxy.getAppliedRuleCategories().contains("payment-fees")){
				proxy.getAppliedRules().add("77E07359-2220-4771-ACCC-3E7D8569E471");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Сборы за оплату - авиа
rule "rule 114"
salience -114
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.travelSubjects contains "AIR",
			propSet.partnerCode != null,
			propSet.partnerCode != "zorro"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-fees"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-fees")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CASH",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("INVOICE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CYBERPLAT",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("WEBMONEY",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI_LK",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("YAM",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_ONLINE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("RAPIDA",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_TCHE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE",1.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("SPASIBO",5.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("DELTAPAY",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET_LK",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_LONG",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("KUPI_V_CREDIT",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ALFA_CLICK",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("DEPOSIT",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_AFLA_GATE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_GATE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_LONG_GATE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAYU_LONG",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAYU_GDS",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_PAYLATE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_GALILEO",10.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("PAYPAL",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_CYBERSOURCE",2.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_SBERBANK",2.0,true);
			proxy.getAppliedRuleCategories().add("payment-fees");
			if(proxy.getAppliedRuleCategories().contains("payment-fees")){
				proxy.getAppliedRules().add("3AC888FB-88F5-4615-A92E-9701F132CB0D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Сборы за оплату - авиа - zorro
rule "rule 115"
salience -115
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.travelSubjects contains "AIR",
			propSet.partnerCode == "zorro"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-fees"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-fees")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CASH",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("INVOICE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CYBERPLAT",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("WEBMONEY",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI_LK",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("YAM",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_ONLINE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("RAPIDA",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_TCHE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("SPASIBO",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("DELTAPAY",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET_LK",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_LONG",0.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("KUPI_V_CREDIT",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_PAYLATE",2.0,true);
			proxy.getAppliedRuleCategories().add("payment-fees");
			if(proxy.getAppliedRuleCategories().contains("payment-fees")){
				proxy.getAppliedRules().add("7E4436F7-CF2F-44D4-8964-73A9D520AE54");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Сборы за оплату - по-умолчанию
rule "rule 116"
salience -116
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(

		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-fees"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-fees")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CASH",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("INVOICE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CYBERPLAT",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("WEBMONEY",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI_LK",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("QIWI",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("YAM",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_ONLINE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("RAPIDA",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_TCHE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("SPASIBO",5.0,true);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("DELTAPAY",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ELECSNET_LK",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_LONG",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("KUPI_V_CREDIT",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("ALFA_CLICK",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("DEPOSIT",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_AFLA_GATE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_GATE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAY_ONLINE_LONG_GATE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAYU_LONG",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_PAYU_GDS",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_PAYLATE",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("CREDIT_CARD_GALILEO",0.0,false);
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addPaymentFee("PAYPAL",0.0,false);
			proxy.getAppliedRuleCategories().add("payment-fees");
			if(proxy.getAppliedRuleCategories().contains("payment-fees")){
				proxy.getAppliedRules().add("EFAF5D54-6B1F-48F1-AFCB-F9886669CCB1");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Разрешенные в rostel
rule "rule 117"
salience -117
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.partnerCode == "rostel"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("payment-types-allowed"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CASH_PARTNER");
			proxy.getAppliedRuleCategories().add("payment-types-allowed");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("637DE793-2B96-4B61-916B-735804328513");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CASH");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("INVOICE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("ELECSNET");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CYBERPLAT");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("WEBMONEY");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("QIWI_LK");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("QIWI");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("YAM");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("RAPIDA");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("SPASIBO");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("DELTAPAY");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("ELECSNET_LK");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("KUPI_V_CREDIT");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("ALFA_CLICK");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("DEPOSIT");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_AFLA_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAYU_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAYU_GDS");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_PAYLATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_GALILEO");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("PAYPAL");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_CYBERSOURCE");
			proxy.getAppliedRuleCategories().add("payment-types-forbidden");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("637DE793-2B96-4B61-916B-735804328513");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Разрешенные для flex
rule "rule 118"
salience -118
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getProfileGroups(), new String[]{"AFree"})),
			propSet.gdsNames excludes "SIRENA_TCHE"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-allowed"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("DEPOSIT");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_PAY_ONLINE_LONG_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_SBERBANK");
			proxy.getAppliedRuleCategories().add("payment-types-allowed");
			if(proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("F45B9D6C-86DA-41CB-B7B6-084975A3C7BA");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Разрешенные для flex
rule "rule 119"
salience -119
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getProfileGroups(), new String[]{"AFree"})),
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.confinedTo(com.gridnine.bof.common.model.rules.standard.ProxyHelper.to2DList(propSet.getGdsNames()), new String[]{"SIRENA_TCHE"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-allowed"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_TCHE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("DEPOSIT");
			proxy.getAppliedRuleCategories().add("payment-types-allowed");
			if(proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("E915B95D-E438-43E2-A315-3A6CA8A6DFCA");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Разрешенные в Berlogic
rule "rule 120"
salience -120
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.confinedTo(com.gridnine.bof.common.model.rules.standard.ProxyHelper.to2DList(propSet.getGdsNames()), new String[]{"SIRENA_TCHE"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("payment-types-allowed"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_TCHE");
			proxy.getAppliedRuleCategories().add("payment-types-allowed");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("00ABBB4D-F6C3-4D18-8EE1-B9EF4D358762");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CASH");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("INVOICE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("ELECSNET");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CYBERPLAT");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("WEBMONEY");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("QIWI_LK");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("QIWI");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("YAM");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("RAPIDA");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("SPASIBO");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("DELTAPAY");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("ELECSNET_LK");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("KUPI_V_CREDIT");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("ALFA_CLICK");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("DEPOSIT");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_AFLA_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAYU_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAYU_GDS");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_PAYLATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_GALILEO");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("PAYPAL");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_SBERBANK");
			proxy.getAppliedRuleCategories().add("payment-types-forbidden");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("00ABBB4D-F6C3-4D18-8EE1-B9EF4D358762");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Способы оплаты для comerapp
rule "rule 121"
salience -121
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.partnerCode == "comerapp"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-allowed"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_PAY_ONLINE_LONG_GATE");
			proxy.getAppliedRuleCategories().add("payment-types-allowed");
			if(proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("42B2B84A-4E5C-4106-9464-79BB28B5FF1F");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Способы оплаты для регионального StarTravel
rule "rule 122"
salience -122
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.partnerCode == "startravel_tomsk" || == "startravel_vlad" || == "startravel_ufa" || == "startravel_krr" || == "startravel_goj" || == "startravel_rov" || == "startravel_vog" || == "startravel_kja" || == "startravel_cek"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-allowed"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("ELECSNET");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CYBERPLAT");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("WEBMONEY");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("YAM");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("RAPIDA");
			proxy.getAppliedRuleCategories().add("payment-types-allowed");
			if(proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("355626E3-8CE7-4270-819D-5BC608052962");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Разрешенные формы оплаты в SIG
rule "rule 123"
salience -123
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.confinedTo(com.gridnine.bof.common.model.rules.standard.ProxyHelper.to2DList(propSet.getGdsNames()), new String[]{"SIG"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("payment-types-allowed"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("WEBMONEY");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("YAM");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("ALFA_CLICK");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("PAYPAL");
			proxy.getAppliedRuleCategories().add("payment-types-allowed");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("283C4FF3-4953-4995-AA0F-81FEB6B2926A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CASH");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("ELECSNET");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("QIWI_LK");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("RAPIDA");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_TCHE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("KUPI_V_CREDIT");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_PAYLATE");
			proxy.getAppliedRuleCategories().add("payment-types-forbidden");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("283C4FF3-4953-4995-AA0F-81FEB6B2926A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Разрешенные формы оплаты
rule "rule 124"
salience -124
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.totalPrice >= 5000.0,
			propSet.daysBeforeTravel > 2
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-allowed"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CASH");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("ELECSNET");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("WEBMONEY");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("YAM");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("RAPIDA");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("DEPOSIT");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_PAY_ONLINE_LONG_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_PAYLATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_GALILEO");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("PAYPAL");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_SBERBANK");
			proxy.getAppliedRuleCategories().add("payment-types-allowed");
			if(proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("58F7A5FE-1ABD-4E5A-B7DB-8B7CDB054FAF");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Разрешенные формы оплаты
rule "rule 125"
salience -125
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(

		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-allowed"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CASH");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("ELECSNET");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("WEBMONEY");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("YAM");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("RAPIDA");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("DEPOSIT");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_PAY_ONLINE_LONG_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_PAYLATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_GALILEO");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addAllowedPaymentType("CREDIT_CARD_SBERBANK");
			proxy.getAppliedRuleCategories().add("payment-types-allowed");
			if(proxy.getAppliedRuleCategories().contains("payment-types-allowed")){
				proxy.getAppliedRules().add("CD3F5B30-366F-4D29-BE00-E75DB75ED9EF");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Пэй для letaem.ru
rule "rule 126"
salience -126
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.travelSubjects contains "AIR",
			propSet.pcc == "5MS5" || == "7QI4",
			propSet.partnerCode == "letaem"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-forbidden"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_GALILEO");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_SBERBANK");
			proxy.getAppliedRuleCategories().add("payment-types-forbidden");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
				proxy.getAppliedRules().add("DA4AEA34-232F-465D-9102-3FFCA140CF91");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Сбербанк для SU
rule "rule 127"
salience -127
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.travelSubjects contains "AIR",
			propSet.pcc == "5MS5" || == "7QI4",
			propSet.vendors contains "SU"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-forbidden"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_GALILEO");
			proxy.getAppliedRuleCategories().add("payment-types-forbidden");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
				proxy.getAppliedRules().add("7309961C-D03C-4869-B1A2-BDAEF8D9DB31");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PayOnline напрямую в а/к
rule "rule 128"
salience -128
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.vendors contains "9U" || contains "9W" || contains "GF" || contains "AA" || contains "AB" || contains "AF" || contains "AM" || contains "AY" || contains "BA" || contains "CX" || contains "CM" || contains "DE" || contains "DL" || contains "EK" || contains "EN" || contains "ET" || contains "EY" || contains "FJ" || contains "IG" || contains "JJ" || contains "JL" || contains "KE" || contains "KL" || contains "LA" || contains "LO" || contains "LX" || contains "LH" || contains "MH" || contains "OA" || contains "OK" || contains "OS" || contains "PG" || contains "PS" || contains "QR" || contains "S4" || contains "SA" || contains "SB" || contains "SK" || contains "SQ" || contains "ST" || contains "TP" || contains "TX" || contains "UA" || contains "UX" || contains "VN" || contains "WY" || contains "VV" || contains "ZI",
			propSet.numOfAirlines < 2,
			propSet.codeShare == false,
			propSet.pcc == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.travelSubjects contains "AIR",
			propSet.partnerCode == "admitad" || == "advertstar" || == "komus" || == "default" || == "aviasales" || == "flytourist" || == "email" || == "skyscanner" || == "skyscannerand" || == "skyscanneripad" || == "skyscanneriphone" || == "jizoru" || == "sepoda" || == "momondo" || == "Kayak" || == "rambler" || == "tripAdvisor" || == "Visumwinkel" || == "vkontakte" || == "a360" || == "greenstone" || == "ticketsale" || == "english",
			propSet.totalPrice < 150000.0
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("pay-to-airline"))){
		   if(!proxy.getAppliedRuleCategories().contains("pay-to-airline")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).setPayToAirline(true);
			proxy.getAppliedRuleCategories().add("pay-to-airline");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("pay-to-airline")){
				proxy.getAppliedRules().add("0046BCBE-3B77-4893-AB97-507CFF5CE049");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_SBERBANK");
			proxy.getAppliedRuleCategories().add("payment-types-forbidden");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden") || proxy.getAppliedRuleCategories().contains("pay-to-airline")){
				proxy.getAppliedRules().add("0046BCBE-3B77-4893-AB97-507CFF5CE049");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PayOnline длинная запись, yar
rule "rule 129"
salience -129
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.travelSubjects contains "AIR",
			propSet.pcc == "5MS5" || == "33VY" || == "39YA" || == "39AU" || == "3B2J",
			propSet.partnerCode == "yar"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-forbidden"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_GALILEO");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_SBERBANK");
			proxy.getAppliedRuleCategories().add("payment-types-forbidden");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
				proxy.getAppliedRules().add("F2063B42-E650-45CA-BF4C-8D75B99BAAFB");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Правила для i.pososhok.ru
rule "rule 130"
salience -130
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.travelSubjects contains "AIR",
			propSet.pcc == "5MS5" || == "33VY" || == "39YA" || == "39AU" || == "3B2J",
			propSet.partnerCode == "i.pososhok.ru"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-forbidden"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_GALILEO");
			proxy.getAppliedRuleCategories().add("payment-types-forbidden");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
				proxy.getAppliedRules().add("91166E53-F9F9-412E-B74D-F87BDFD7E82A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PayOnline длинная запись
rule "rule 131"
salience -131
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.travelSubjects contains "AIR",
			propSet.pcc == "5MS5" || == "33VY" || == "39YA" || == "39AU" || == "3B2J",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getProfileGroups(), new String[]{"AFree"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-forbidden"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_GALILEO");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_SBERBANK");
			proxy.getAppliedRuleCategories().add("payment-types-forbidden");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
				proxy.getAppliedRules().add("B8FE1B34-A916-4BE8-88A7-7A5FF93CF2EE");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#PayOnline длинная запись
rule "rule 132"
salience -132
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.travelSubjects contains "AIR",
			propSet.pcc == "5MS5" || == "33VY" || == "39YA" || == "39AU" || == "3B2J",
			propSet.partnerCode == "letaem" || == "admitad" || == "advertstar" || == "pulkovo" || == "komus" || == "marshruty" || == "default" || == "aviasales" || == "flytourist" || == "email" || == "skyscanner" || == "skyscannerand" || == "skyscanneripad" || == "skyscanneriphone" || == "jizoru" || == "sepoda" || == "momondo" || == "Kayak" || == "rambler" || == "tripAdvisor" || == "Visumwinkel" || == "vkontakte" || == "a360" || == "greenstone" || == "ticketsale" || == "english"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-forbidden"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_GALILEO");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_SBERBANK");
			proxy.getAppliedRuleCategories().add("payment-types-forbidden");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
				proxy.getAppliedRules().add("02E25138-6C72-4030-828A-11918DE1F66A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Альфабанк
rule "rule 133"
salience -133
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "PAYMENT_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BasePaymentRulesPropertySet(
			propSet.partnerCode != null,
			propSet.partnerCode != "comerapp" && != "android_app"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("payment-types-forbidden"))){
		   if(!proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_PAY_ONLINE_LONG_GATE");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_GALILEO");
			((com.gridnine.bof.server.model.rules.standard.proxy.PaymentRulesActionSet) proxy.getActionSet()).addForbiddenPaymentType("CREDIT_CARD_SBERBANK");
			proxy.getAppliedRuleCategories().add("payment-types-forbidden");
			if(proxy.getAppliedRuleCategories().contains("payment-types-forbidden")){
				proxy.getAppliedRules().add("393A64BC-D6CD-431F-AD74-36D69292DFCD");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Плата за багаж в AirBaltic
rule "rule 134"
salience -134
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "BT",
			propSet.partnerCode != null,
			propSet.partnerCode != "startravel" && != "startravelapp" && != "startravel_tomsk" && != "startravel_vlad" && != "startravel_ufa" && != "startravel_krr" && != "startravel_goj" && != "startravel_rov" && != "startravel_vog" && != "startravel_kja" && != "startravel_cek"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("BT"))){
		   if(!proxy.getAppliedRuleCategories().contains("BT")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("BT");
			proxy.getAppliedRuleCategories().add("BT");
			if(proxy.getAppliedRuleCategories().contains("BT")){
				proxy.getAppliedRules().add("ABC063F5-9F8A-4406-A8C0-CFBE47D16512");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Билет RT при поиске OW
rule "rule 135"
salience -135
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gift == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("GIFT"))){
		   if(!proxy.getAppliedRuleCategories().contains("GIFT")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("GIFT");
			proxy.getAppliedRuleCategories().add("GIFT");
			if(proxy.getAppliedRuleCategories().contains("GIFT")){
				proxy.getAppliedRules().add("C4A3AB64-14C4-4B79-81BD-88FFB0F4A431");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Предупреждение для ТКП
rule "rule 136"
salience -136
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "SIRENA_TCHE"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("TKP"))){
		   if(!proxy.getAppliedRuleCategories().contains("TKP")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("TKP");
			proxy.getAppliedRuleCategories().add("TKP");
			if(proxy.getAppliedRuleCategories().contains("TKP")){
				proxy.getAppliedRules().add("C385DB23-4FBE-4D79-A531-678D55103F6A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Разные аэропорты пересадок OW
rule "rule 137"
salience -137
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.diffConnectOnFirstLeg == true,
			propSet.gift == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("CON"))){
		   if(!proxy.getAppliedRuleCategories().contains("CON")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("CON");
			proxy.getAppliedRuleCategories().add("CON");
			if(proxy.getAppliedRuleCategories().contains("CON")){
				proxy.getAppliedRules().add("4FAD176A-C716-4FA1-AFBC-829FE8B33FE6");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Разные аэропорты пересадок
rule "rule 138"
salience -138
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.diffConnectAirports == true,
			propSet.gift == false
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("CON"))){
		   if(!proxy.getAppliedRuleCategories().contains("CON")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("CON");
			proxy.getAppliedRuleCategories().add("CON");
			if(proxy.getAppliedRuleCategories().contains("CON")){
				proxy.getAppliedRules().add("C01F5C87-D2F6-4134-BCBF-54C3520C843C");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Субсидированные перелеты Аэрофлота
rule "rule 139"
salience -139
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.fareBasises contains "PSOC",
			propSet.carriers contains "SU",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.containsOnly(propSet.getVisitedCities(), new String[]{"MOW-KGD"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("SUBS2"))){
		   if(!proxy.getAppliedRuleCategories().contains("SUBS2")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("SUBS2");
			proxy.getAppliedRuleCategories().add("SUBS2");
			if(proxy.getAppliedRuleCategories().contains("SUBS2")){
				proxy.getAppliedRules().add("E566BFA9-C788-4B2E-9AF6-B2029A4F2202");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Сбор для pricePortbilet
rule "rule 140"
salience -140
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "PORTBILET",
			propSet.partnerCode == "pricePortbilet"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(0.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("EF396A4C-FD27-4AD1-98E9-2AE840E3F375");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("EF396A4C-FD27-4AD1-98E9-2AE840E3F375");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("EF396A4C-FD27-4AD1-98E9-2AE840E3F375");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("EF396A4C-FD27-4AD1-98E9-2AE840E3F375");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("EF396A4C-FD27-4AD1-98E9-2AE840E3F375");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("EF396A4C-FD27-4AD1-98E9-2AE840E3F375");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("EF396A4C-FD27-4AD1-98E9-2AE840E3F375");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("EF396A4C-FD27-4AD1-98E9-2AE840E3F375");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(0.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("EF396A4C-FD27-4AD1-98E9-2AE840E3F375");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Сбор для SU
rule "rule 141"
salience -141
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "5WR3" || == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.partnerCode == "yar",
			propSet.carriers contains "SU"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B42AFB37-F4F5-4BC3-A230-CB366DAE2C98");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B42AFB37-F4F5-4BC3-A230-CB366DAE2C98");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B42AFB37-F4F5-4BC3-A230-CB366DAE2C98");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B42AFB37-F4F5-4BC3-A230-CB366DAE2C98");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B42AFB37-F4F5-4BC3-A230-CB366DAE2C98");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B42AFB37-F4F5-4BC3-A230-CB366DAE2C98");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B42AFB37-F4F5-4BC3-A230-CB366DAE2C98");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B42AFB37-F4F5-4BC3-A230-CB366DAE2C98");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(0.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B42AFB37-F4F5-4BC3-A230-CB366DAE2C98");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#коэф для расчета сборов в наших PCC, Стар поиск
rule "rule 142"
salience -142
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "5WR3" || == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.partnerCode == "startravel" || == "startravelapp" || == "startravel_tomsk" || == "startravel_vlad" || == "startravel_ufa" || == "startravel_krr" || == "startravel_goj" || == "startravel_rov" || == "startravel_vog" || == "startravel_kja" || == "startravel_cek",
			propSet.searchMode == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B905C2B3-11AC-4A96-8FE6-92842728C2A8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B905C2B3-11AC-4A96-8FE6-92842728C2A8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B905C2B3-11AC-4A96-8FE6-92842728C2A8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B905C2B3-11AC-4A96-8FE6-92842728C2A8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B905C2B3-11AC-4A96-8FE6-92842728C2A8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B905C2B3-11AC-4A96-8FE6-92842728C2A8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B905C2B3-11AC-4A96-8FE6-92842728C2A8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B905C2B3-11AC-4A96-8FE6-92842728C2A8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(0.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("B905C2B3-11AC-4A96-8FE6-92842728C2A8");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#коэф для расчета сборов в наших PCC, Стар
rule "rule 143"
salience -143
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "5WR3" || == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.partnerCode == "startravel" || == "startravelapp" || == "startravel_tomsk" || == "startravel_vlad" || == "startravel_ufa" || == "startravel_krr" || == "startravel_goj" || == "startravel_rov" || == "startravel_vog" || == "startravel_kja" || == "startravel_cek"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("1B0AFC14-4135-468F-B011-D357B44B6379");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("1B0AFC14-4135-468F-B011-D357B44B6379");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("1B0AFC14-4135-468F-B011-D357B44B6379");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("1B0AFC14-4135-468F-B011-D357B44B6379");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("1B0AFC14-4135-468F-B011-D357B44B6379");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("1B0AFC14-4135-468F-B011-D357B44B6379");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("1B0AFC14-4135-468F-B011-D357B44B6379");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("1B0AFC14-4135-468F-B011-D357B44B6379");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(0.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("1B0AFC14-4135-468F-B011-D357B44B6379");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#коэф для расчета сборов в наших PCC, поиск
rule "rule 144"
salience -144
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "5WR3" || == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.partnerCode != null,
			propSet.partnerCode != "skyscanner" && != "startravel" && != "startravelapp" && != "startravel_tomsk" && != "startravel_vlad" && != "startravel_ufa" && != "startravel_krr" && != "startravel_goj" && != "startravel_rov" && != "startravel_vog" && != "startravel_kja" && != "startravel_cek",
			propSet.searchMode == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("32F9FB13-11CD-4795-86E3-5F2F0BE7F080");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("32F9FB13-11CD-4795-86E3-5F2F0BE7F080");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("32F9FB13-11CD-4795-86E3-5F2F0BE7F080");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("32F9FB13-11CD-4795-86E3-5F2F0BE7F080");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("32F9FB13-11CD-4795-86E3-5F2F0BE7F080");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("32F9FB13-11CD-4795-86E3-5F2F0BE7F080");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("32F9FB13-11CD-4795-86E3-5F2F0BE7F080");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("32F9FB13-11CD-4795-86E3-5F2F0BE7F080");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(-10000.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("32F9FB13-11CD-4795-86E3-5F2F0BE7F080");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Копия коэф для расчета сборов в наших PCC
rule "rule 145"
salience -145
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "5WR3" || == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.partnerCode != null,
			propSet.partnerCode != "skyscanner" && != "startravel" && != "startravelapp" && != "startravel_tomsk" && != "startravel_vlad" && != "startravel_ufa" && != "startravel_krr" && != "startravel_goj" && != "startravel_rov" && != "startravel_vog" && != "startravel_kja" && != "startravel_cek"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("9AE5E9BE-0283-46AB-8B97-C4DE0442D64A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("9AE5E9BE-0283-46AB-8B97-C4DE0442D64A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("9AE5E9BE-0283-46AB-8B97-C4DE0442D64A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("9AE5E9BE-0283-46AB-8B97-C4DE0442D64A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("9AE5E9BE-0283-46AB-8B97-C4DE0442D64A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("9AE5E9BE-0283-46AB-8B97-C4DE0442D64A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("9AE5E9BE-0283-46AB-8B97-C4DE0442D64A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("9AE5E9BE-0283-46AB-8B97-C4DE0442D64A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(-10000.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("9AE5E9BE-0283-46AB-8B97-C4DE0442D64A");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#коэф для расчета сборов в наших PCC, бронирование
rule "rule 146"
salience -146
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "5WR3" || == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.partnerCode != null,
			propSet.partnerCode != "skyscanner" && != "startravel" && != "startravelapp" && != "startravel_tomsk" && != "startravel_vlad" && != "startravel_ufa" && != "startravel_krr" && != "startravel_goj" && != "startravel_rov" && != "startravel_vog" && != "startravel_kja" && != "startravel_cek",
			propSet.combined != true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A2137060-754C-4952-A69A-F0A17ED498B3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A2137060-754C-4952-A69A-F0A17ED498B3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A2137060-754C-4952-A69A-F0A17ED498B3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A2137060-754C-4952-A69A-F0A17ED498B3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A2137060-754C-4952-A69A-F0A17ED498B3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A2137060-754C-4952-A69A-F0A17ED498B3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A2137060-754C-4952-A69A-F0A17ED498B3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A2137060-754C-4952-A69A-F0A17ED498B3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(-10000.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A2137060-754C-4952-A69A-F0A17ED498B3");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Расчет сборов для skyscanner и yar
rule "rule 147"
salience -147
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "5WR3" || == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.partnerCode == "skyscanner" || == "yar"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("BD52F1F1-CFF1-42CB-A56E-BBD67985AB4E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("BD52F1F1-CFF1-42CB-A56E-BBD67985AB4E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("BD52F1F1-CFF1-42CB-A56E-BBD67985AB4E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("BD52F1F1-CFF1-42CB-A56E-BBD67985AB4E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("BD52F1F1-CFF1-42CB-A56E-BBD67985AB4E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("BD52F1F1-CFF1-42CB-A56E-BBD67985AB4E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("BD52F1F1-CFF1-42CB-A56E-BBD67985AB4E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("BD52F1F1-CFF1-42CB-A56E-BBD67985AB4E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(-2000.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("BD52F1F1-CFF1-42CB-A56E-BBD67985AB4E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#коэф для расчета сборов в наших PCC для агрегаторов
rule "rule 148"
salience -148
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "5WR3" || == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.partnerCode == "skyscanner" || == "yar",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.confinedTo(com.gridnine.bof.common.model.rules.standard.ProxyHelper.to2DList(propSet.getOperatingAirlines()), new String[]{"A3"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("E513940A-DD78-47CB-AA8B-716AFCABB919");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("E513940A-DD78-47CB-AA8B-716AFCABB919");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("E513940A-DD78-47CB-AA8B-716AFCABB919");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("E513940A-DD78-47CB-AA8B-716AFCABB919");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("E513940A-DD78-47CB-AA8B-716AFCABB919");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("E513940A-DD78-47CB-AA8B-716AFCABB919");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("E513940A-DD78-47CB-AA8B-716AFCABB919");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("E513940A-DD78-47CB-AA8B-716AFCABB919");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(-2000.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("E513940A-DD78-47CB-AA8B-716AFCABB919");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#коэф для расчета сборов в нем. PCC
rule "rule 149"
salience -149
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "39AU"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A7055BA8-C45F-4BEF-A768-5BAF7B0DA62D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A7055BA8-C45F-4BEF-A768-5BAF7B0DA62D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A7055BA8-C45F-4BEF-A768-5BAF7B0DA62D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A7055BA8-C45F-4BEF-A768-5BAF7B0DA62D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.015);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A7055BA8-C45F-4BEF-A768-5BAF7B0DA62D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.015);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A7055BA8-C45F-4BEF-A768-5BAF7B0DA62D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A7055BA8-C45F-4BEF-A768-5BAF7B0DA62D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A7055BA8-C45F-4BEF-A768-5BAF7B0DA62D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(0.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("A7055BA8-C45F-4BEF-A768-5BAF7B0DA62D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#коэф для расчета сборов в укр. PCC
rule "rule 150"
salience -150
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "3B2J"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("073F0E0F-E44B-4B75-A5A1-72DC45C4E141");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("073F0E0F-E44B-4B75-A5A1-72DC45C4E141");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("073F0E0F-E44B-4B75-A5A1-72DC45C4E141");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("073F0E0F-E44B-4B75-A5A1-72DC45C4E141");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("073F0E0F-E44B-4B75-A5A1-72DC45C4E141");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("073F0E0F-E44B-4B75-A5A1-72DC45C4E141");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(5.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("073F0E0F-E44B-4B75-A5A1-72DC45C4E141");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("073F0E0F-E44B-4B75-A5A1-72DC45C4E141");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(0.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("073F0E0F-E44B-4B75-A5A1-72DC45C4E141");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#коэф для расчета сборов в ТКП Европа
rule "rule 151"
salience -151
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "SIRENA_TCHE"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("80DEC4C7-B05E-4840-A1F5-4E525ED03C10");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("80DEC4C7-B05E-4840-A1F5-4E525ED03C10");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("80DEC4C7-B05E-4840-A1F5-4E525ED03C10");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("80DEC4C7-B05E-4840-A1F5-4E525ED03C10");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("80DEC4C7-B05E-4840-A1F5-4E525ED03C10");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("80DEC4C7-B05E-4840-A1F5-4E525ED03C10");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("80DEC4C7-B05E-4840-A1F5-4E525ED03C10");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("80DEC4C7-B05E-4840-A1F5-4E525ED03C10");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(-2000.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("80DEC4C7-B05E-4840-A1F5-4E525ED03C10");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#коэф для расчета сборов в амер. PCC
rule "rule 152"
salience -152
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "CALCULATION_PARAMETERS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "79VJ"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate"))){
		   if(!proxy.getAppliedRuleCategories().contains("factor-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFee(1.0);
			proxy.getAppliedRuleCategories().add("factor-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("89E1A3AF-9214-4CE3-A9C6-C2B06C6D284E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-vendor-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorVendorCommission(1.0);
			proxy.getAppliedRuleCategories().add("factor-vendor-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("89E1A3AF-9214-4CE3-A9C6-C2B06C6D284E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorGdsCommission(0.0);
			proxy.getAppliedRuleCategories().add("factor-gds-commission");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("89E1A3AF-9214-4CE3-A9C6-C2B06C6D284E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-1")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare1(0.0);
			proxy.getAppliedRuleCategories().add("factor-fare-1");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("89E1A3AF-9214-4CE3-A9C6-C2B06C6D284E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-fare-2")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorFare2(0.02);
			proxy.getAppliedRuleCategories().add("factor-fare-2");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("89E1A3AF-9214-4CE3-A9C6-C2B06C6D284E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-taxes")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorTaxes(0.0);
			proxy.getAppliedRuleCategories().add("factor-taxes");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("89E1A3AF-9214-4CE3-A9C6-C2B06C6D284E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-usd-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorUsdRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-usd-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("89E1A3AF-9214-4CE3-A9C6-C2B06C6D284E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setFactorEurRate(0.0);
			proxy.getAppliedRuleCategories().add("factor-eur-rate");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("89E1A3AF-9214-4CE3-A9C6-C2B06C6D284E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("minimal-fee")){
			((com.gridnine.bof.server.gds.rules.proxy.CalculationParametersActions) proxy.getActionSet()).setMinimalFee(-2000.0);
			proxy.getAppliedRuleCategories().add("minimal-fee");
			if(proxy.getAppliedRuleCategories().contains("minimal-fee") || proxy.getAppliedRuleCategories().contains("factor-fare-2") || proxy.getAppliedRuleCategories().contains("factor-fare-1") || proxy.getAppliedRuleCategories().contains("factor-vendor-commission") || proxy.getAppliedRuleCategories().contains("factor-gds-commission") || proxy.getAppliedRuleCategories().contains("factor-fee") || proxy.getAppliedRuleCategories().contains("factor-usd-rate") || proxy.getAppliedRuleCategories().contains("factor-taxes") || proxy.getAppliedRuleCategories().contains("factor-eur-rate")){
				proxy.getAppliedRules().add("89E1A3AF-9214-4CE3-A9C6-C2B06C6D284E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Sabre, band 3
rule "rule 153"
salience -153
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_COMMISSIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "UNIFEST",
			propSet.carriers contains "SU"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("gds-commission"))){
		   if(!proxy.getAppliedRuleCategories().contains("gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionValue(2.0);
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionCurrencyCode("USD");
			proxy.getAppliedRuleCategories().add("gds-commission");
			if(proxy.getAppliedRuleCategories().contains("gds-commission")){
				proxy.getAppliedRules().add("95EF8A39-9C06-459B-B9F6-564B5084F991");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Sabre, band 4
rule "rule 154"
salience -154
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_COMMISSIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "UNIFEST"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("gds-commission"))){
		   if(!proxy.getAppliedRuleCategories().contains("gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionValue(4.0);
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionCurrencyCode("USD");
			proxy.getAppliedRuleCategories().add("gds-commission");
			if(proxy.getAppliedRuleCategories().contains("gds-commission")){
				proxy.getAppliedRules().add("3BA7530C-91B3-4F76-B5AC-FB744078EFFF");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Комиссия для младенцев
rule "rule 155"
salience -155
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_COMMISSIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.passengerType == "INFANT"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("gds-commission"))){
		   if(!proxy.getAppliedRuleCategories().contains("gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionValue(0.0);
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionCurrencyCode("USD");
			proxy.getAppliedRuleCategories().add("gds-commission");
			if(proxy.getAppliedRuleCategories().contains("gds-commission")){
				proxy.getAppliedRules().add("E1F58F73-303B-49F2-89EB-4B8860D24825");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Наши PCC, российские сегменты UN, UT
rule "rule 156"
salience -156
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_COMMISSIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "5WR3" || == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.airlines contains "UN" || contains "UT"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("gds-commission"))){
		   if(!proxy.getAppliedRuleCategories().contains("gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionValue(1.0);
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionCurrencyCode("USD");
			proxy.getAppliedRuleCategories().add("gds-commission");
			if(proxy.getAppliedRuleCategories().contains("gds-commission")){
				proxy.getAppliedRules().add("D6E77BFA-6797-4079-B33B-9243BC918774");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#наши PCC, российские сегменты
rule "rule 157"
salience -157
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_COMMISSIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "5WR3" || == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.airlines contains "R3" || contains "2B" || contains "SU" || contains "FV" || contains "S7" || contains "U6" || contains "XW" || contains "NN" || contains "XF" || contains "YC" || contains "R2" || contains "5N"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("gds-commission"))){
		   if(!proxy.getAppliedRuleCategories().contains("gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionValue(2.0);
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionCurrencyCode("USD");
			proxy.getAppliedRuleCategories().add("gds-commission");
			if(proxy.getAppliedRuleCategories().contains("gds-commission")){
				proxy.getAppliedRules().add("0405270B-0B2E-47E1-98B9-0E8B391EED45");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#наши PCC, нерос сегменты
rule "rule 158"
salience -158
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_COMMISSIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "5WR3" || == "5MS5" || == "33VY" || == "39YA" || == "7QI4",
			propSet.airlines excludes "SU" && excludes "FV" && excludes "S7" && excludes "U6" && excludes "XW" && excludes "NN" && excludes "U9" && excludes "KV" && excludes "GW" && excludes "XF" && excludes "YC" && excludes "R2" && excludes "5N" && excludes "UN" && excludes "UT"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("gds-commission"))){
		   if(!proxy.getAppliedRuleCategories().contains("gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionValue(3.4);
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionCurrencyCode("USD");
			proxy.getAppliedRuleCategories().add("gds-commission");
			if(proxy.getAppliedRuleCategories().contains("gds-commission")){
				proxy.getAppliedRules().add("7534F613-511B-43AE-BE3C-39B1F2B85381");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#нем. PCC для LH, LX
rule "rule 159"
salience -159
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_COMMISSIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "39AU",
			propSet.airlines contains "LH" || contains "LX"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("gds-commission"))){
		   if(!proxy.getAppliedRuleCategories().contains("gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionValue(0.0);
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionCurrencyCode("RUB");
			proxy.getAppliedRuleCategories().add("gds-commission");
			if(proxy.getAppliedRuleCategories().contains("gds-commission")){
				proxy.getAppliedRules().add("0C057875-60A1-4011-8E3E-DFCD937464B4");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#нем. PCC кроме LH, LX
rule "rule 160"
salience -160
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_COMMISSIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "39AU",
			propSet.airlines excludes "LH",
			propSet.airlines excludes "LX"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("gds-commission"))){
		   if(!proxy.getAppliedRuleCategories().contains("gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionValue(1.0);
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionCurrencyCode("EUR");
			proxy.getAppliedRuleCategories().add("gds-commission");
			if(proxy.getAppliedRuleCategories().contains("gds-commission")){
				proxy.getAppliedRules().add("76C66CF8-EB9E-4649-9AA4-AF2DD3AAE98E");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#укр.  и амер. PCC
rule "rule 161"
salience -161
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_COMMISSIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "GALILEO",
			propSet.pcc == "3B2J" || == "79VJ"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("gds-commission"))){
		   if(!proxy.getAppliedRuleCategories().contains("gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionValue(0.0);
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionCurrencyCode("RUB");
			proxy.getAppliedRuleCategories().add("gds-commission");
			if(proxy.getAppliedRuleCategories().contains("gds-commission")){
				proxy.getAppliedRules().add("B7AAD7DB-DFFC-4221-85AB-542B6F083996");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#ТКП Европа
rule "rule 162"
salience -162
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "GDS_COMMISSIONS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "SIRENA_TCHE"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("gds-commission"))){
		   if(!proxy.getAppliedRuleCategories().contains("gds-commission")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionValue(0.0);
			((com.gridnine.bof.server.gds.rules.proxy.GDSCommissionActions) proxy.getActionSet()).setGdsCommissionCurrencyCode("RUB");
			proxy.getAppliedRuleCategories().add("gds-commission");
			if(proxy.getAppliedRuleCategories().contains("gds-commission")){
				proxy.getAppliedRules().add("940623C5-9A47-4B84-9F42-4376E2E1C35C");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Предупреждение SIG
rule "rule 163"
salience -163
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "SIG"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("BLTX"))){
		   if(!proxy.getAppliedRuleCategories().contains("BLTX")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("BLTX");
			proxy.getAppliedRuleCategories().add("BLTX");
			if(proxy.getAppliedRuleCategories().contains("BLTX")){
				proxy.getAppliedRules().add("A9233C2C-28FF-4FAC-8198-A9E50236F025");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Плата за багаж AB
rule "rule 164"
salience -164
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "AB",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"NY"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("NOBAG"))){
		   if(!proxy.getAppliedRuleCategories().contains("NOBAG")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("NOBAG");
			proxy.getAppliedRuleCategories().add("NOBAG");
			if(proxy.getAppliedRuleCategories().contains("NOBAG")){
				proxy.getAppliedRules().add("365AAA0F-0EA7-480D-A34A-83006C12A724");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Плата за багаж 4U
rule "rule 165"
salience -165
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "4U"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("NOBAG4U"))){
		   if(!proxy.getAppliedRuleCategories().contains("NOBAG4U")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("NOBAG4U");
			proxy.getAppliedRuleCategories().add("NOBAG4U");
			if(proxy.getAppliedRuleCategories().contains("NOBAG4U")){
				proxy.getAppliedRules().add("4155C86A-1E07-4A66-A3BE-13545C95A14B");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Плата за багаж UT
rule "rule 166"
salience -166
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TARIFF_BRANDS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "UT",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"LT"})),
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.confinedTo(propSet.getVisitedCities(), new String[]{"RU"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("SUPROMOECONOMYSU"))){
		   if(!proxy.getAppliedRuleCategories().contains("SUPROMOECONOMYSU")){
			((com.gridnine.bof.server.model.rules.standard.proxy.TariffBrandActions) proxy.getActionSet()).addTariffBrand("SUPROMOECONOMYSU");
			proxy.getAppliedRuleCategories().add("SUPROMOECONOMYSU");
			if(proxy.getAppliedRuleCategories().contains("SUPROMOECONOMYSU")){
				proxy.getAppliedRules().add("AE299C6D-BFC7-41FA-B89C-4AB2F1A8C63B");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Победа
rule "rule 167"
salience -167
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "DP"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("POBEDA"))){
		   if(!proxy.getAppliedRuleCategories().contains("POBEDA")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("POBEDA");
			proxy.getAppliedRuleCategories().add("POBEDA");
			if(proxy.getAppliedRuleCategories().contains("POBEDA")){
				proxy.getAppliedRules().add("8AA010F0-A14B-4269-B54D-DAF9803E7049");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Плата за багаж S7
rule "rule 168"
salience -168
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "S7",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"BS"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("NOBAGS7"))){
		   if(!proxy.getAppliedRuleCategories().contains("NOBAGS7")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("NOBAGS7");
			proxy.getAppliedRuleCategories().add("NOBAGS7");
			if(proxy.getAppliedRuleCategories().contains("NOBAGS7")){
				proxy.getAppliedRules().add("E5701616-6666-4108-8530-B0AFB6890C9D");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Плата за багаж LH
rule "rule 169"
salience -169
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "LH" || contains "OS" || contains "LX",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"LGT"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("NOBAG"))){
		   if(!proxy.getAppliedRuleCategories().contains("NOBAG")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("NOBAG");
			proxy.getAppliedRuleCategories().add("NOBAG");
			if(proxy.getAppliedRuleCategories().contains("NOBAG")){
				proxy.getAppliedRules().add("B3A2E211-E7E9-4A55-9C8D-9D63C1A043B5");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Плата за багаж Iberia
rule "rule 170"
salience -170
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "IB",
			propSet.partnerCode != null,
			propSet.partnerCode != "startravel" && != "startravelapp" && != "startravel_tomsk" && != "startravel_vlad" && != "startravel_ufa" && != "startravel_krr" && != "startravel_goj" && != "startravel_rov" && != "startravel_vog" && != "startravel_kja" && != "startravel_cek",
eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.containsNumberInterval(propSet.getFlightsNumbersInt(), 5000, 5999, true)),
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.beginsWith(propSet.getFareBasises(), new String[]{"N","Q","O","P"})),
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.endsWith(propSet.getFareBasises(), new String[]{"4К"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("NOBAG"))){
		   if(!proxy.getAppliedRuleCategories().contains("NOBAG")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("NOBAG");
			proxy.getAppliedRuleCategories().add("NOBAG");
			if(proxy.getAppliedRuleCategories().contains("NOBAG")){
				proxy.getAppliedRules().add("E36B254A-C2AE-46D9-A7AA-FCCA6718A9B5");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Максимальный багаж UN
rule "rule 171"
salience -171
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "UN",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.beginsWith(propSet.getFareBasises(), new String[]{"ID","TD","XD","ED"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("UN_D"))){
		   if(!proxy.getAppliedRuleCategories().contains("UN_D")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("UN_D");
			proxy.getAppliedRuleCategories().add("UN_D");
			if(proxy.getAppliedRuleCategories().contains("UN_D")){
				proxy.getAppliedRules().add("CAD60BA2-C82F-41DF-8800-C5A4392985F5");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#UK надо визу
rule "rule 172"
salience -172
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getConnectLocations(), new String[]{"UK"})),
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getArrivalLocations(), new String[]{"UK"})),
			propSet.diffConnectAirports == true
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("UK"))){
		   if(!proxy.getAppliedRuleCategories().contains("UK")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("UK");
			proxy.getAppliedRuleCategories().add("UK");
			if(proxy.getAppliedRuleCategories().contains("UK")){
				proxy.getAppliedRules().add("19227DF0-BD3D-4D07-B26E-786AE6A9F130");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#US надо визу
rule "rule 173"
salience -173
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getConnectLocations(), new String[]{"US"})),
			eval(!com.gridnine.bof.common.model.rules.standard.ProxyHelper.collectionIncludes(propSet.getArrivalLocations(), new String[]{"US"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("US"))){
		   if(!proxy.getAppliedRuleCategories().contains("US")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("US");
			proxy.getAppliedRuleCategories().add("US");
			if(proxy.getAppliedRuleCategories().contains("US")){
				proxy.getAppliedRules().add("49B5E7CA-2813-42BA-8970-BFAE128B3728");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Копия Временно закрываем Berlogic
rule "rule 174"
salience -174
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.gdsName == "SIRENA_TCHE",
			propSet.carriers contains "KC" || contains "A3"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("exclude-from-search-result"))){
		   if(!proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setExcludeFromSearchResult(true);
			proxy.getAppliedRuleCategories().add("exclude-from-search-result");
			if(proxy.getAppliedRuleCategories().contains("exclude-from-search-result")){
				proxy.getAppliedRules().add("8DC92690-8E37-46A0-878C-49C1C4ED4FF2");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Субсидированные S7
rule "rule 175"
salience -175
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.fareBasises contains "ALERT" || contains "ALEOW",
			propSet.carriers contains "S7"
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("SUBS2"))){
		   if(!proxy.getAppliedRuleCategories().contains("SUBS2")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("SUBS2");
			proxy.getAppliedRuleCategories().add("SUBS2");
			if(proxy.getAppliedRuleCategories().contains("SUBS2")){
				proxy.getAppliedRules().add("92323553-1268-4911-8B85-AC3BAE7D60DB");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#Отчество для SU
rule "rule 176"
salience -176
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "POST_SEARCH_RULES"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "SU" || contains "6R",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.confinedTo(propSet.getVisitedCities(), new String[]{"RU"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("need-middle-name") || proxy.getAppliedRuleCategories().contains("MIDDLE_NAME"))){
		   if(!proxy.getAppliedRuleCategories().contains("MIDDLE_NAME")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).addFlightNotice("MIDDLE_NAME");
			proxy.getAppliedRuleCategories().add("MIDDLE_NAME");
			if(proxy.getAppliedRuleCategories().contains("need-middle-name") || proxy.getAppliedRuleCategories().contains("MIDDLE_NAME")){
				proxy.getAppliedRules().add("866F3110-384C-4E94-B2F1-B37458EC2E39");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		   if(!proxy.getAppliedRuleCategories().contains("need-middle-name")){
			((com.gridnine.bof.server.gds.rules.proxy.GDSPostSearchActions) proxy.getActionSet()).setNeedMiddleName(true);
			proxy.getAppliedRuleCategories().add("need-middle-name");
			if(proxy.getAppliedRuleCategories().contains("need-middle-name") || proxy.getAppliedRuleCategories().contains("MIDDLE_NAME")){
				proxy.getAppliedRules().add("866F3110-384C-4E94-B2F1-B37458EC2E39");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end

#SU Промо эконом
rule "rule 177"
salience -177
	when
		proxy: com.gridnine.bof.server.rules.RuleProxy (
			proxyType == "TARIFF_BRANDS"
		)
		propSet: com.gridnine.bof.server.model.rules.standard.proxy.BaseAirPropertySet(
			propSet.carriers contains "SU",
			eval(com.gridnine.bof.common.model.rules.standard.ProxyHelper.include(propSet.getFareBasises(), new String[]{"RPR"}))
		) from proxy.getPropertySet()
	then
		if(!(proxy.getAppliedRuleCategories().contains("SUPROMOECONOMYSU"))){
		   if(!proxy.getAppliedRuleCategories().contains("SUPROMOECONOMYSU")){
			((com.gridnine.bof.server.model.rules.standard.proxy.TariffBrandActions) proxy.getActionSet()).addTariffBrand("SUPROMOECONOMYSU");
			proxy.getAppliedRuleCategories().add("SUPROMOECONOMYSU");
			if(proxy.getAppliedRuleCategories().contains("SUPROMOECONOMYSU")){
				proxy.getAppliedRules().add("2C447524-18F6-44E7-8E87-CE000B624310");
				proxy.setRoundingMode("NONE");
				proxy.setRoundingValue("V_1");
			}
		   }
		}
end
